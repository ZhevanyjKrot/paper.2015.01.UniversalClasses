
%\documentstyle[amssymb,11pt,emlines,twoside,russian]{article}
%\documentclass[12pt,draft]{amsproc}
%\documentclass[a4paper,11pt,twoside]{amsproc}
\documentclass[a4paper,11pt,twoside]{article}
\usepackage{amsmath,amssymb,amsthm,eucal,graphics}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{graphicx}
\usepackage{amsfonts,amssymb,eucal}
\usepackage{amsbsy}
\usepackage{latexsym}
\usepackage{color}
\usepackage{hyperref}
\usepackage[colorinlistoftodos]{todonotes} % remove

%\usepackage{size11,emlines}

%\setlength{\textwidth}{38.72pc}
\setlength{\textwidth}{130mm}
%\setlength{\textheight}{52.2pc}
\setlength{\textheight}{225mm}

%\setlength{\oddsidemargin}{5mm}
\setlength{\evensidemargin}{\oddsidemargin}
\renewcommand{\baselinestretch}{1.40}
\addtolength{\topmargin}{-5mm}
\addtolength{\textheight}{-12mm}
\parindent=2.5em

\headheight 15pt
\headsep 18pt

\makeatletter
\gdef\firstpage{1}

%\def\footnoterule{\ifnum\thepage=\firstpage \firstrule \else
%\standard\fi}
%\def\firstrule{\kern -3pt \hrule width \textwidth \kern 2.6pt}
%\def\standard{\kern -3pt \hrule width 2truein \kern 2.6pt}
\def\year{2015}
\def\frsthdr{Алгебра и логика, 50, № 1 (2011), 1---???}

\def\firstpageone{0\thepage}
\def\firstpagetwo{00\thepage}
\def\firstpagethree{000\thepage}
\def\firstpagemark{\ifnum\firstpage <10  \firstpageone
\else\ifnum\firstpage<100 \firstpagetwo \else \ifnum\firstpage
<1000 \firstpagethree \else \firstpageone\fi\fi\fi}

\def\footline{\ifnum\thepage=\firstpage \footlineone
%\gdef\firstpage{0}
\else\footlinetwo\fi}
\def\footlineone{\noindent \footnotesize \sf \copyright\ \ Сибиpский фонд
алгебpы и логики,\ \year  \hspace{\fill}  \hbox{}}
\def\footlinetwo{}

\def\titles{{Универсальные инварианты для классов абелевых групп}}
\title{\titles\footnote{Исследование выполнено при финансовой поддержке гранта Российского научного фонда (проект \textnumero14-11-00085)}}
%\def\translation#1{\gdef\firstpage{\thepage}\footnote{{\small\rm
%\hglue-.6cm #1}}}
\def\authors{{А.А. Мищенко, В.Н. Ремесленников, А.В. Трейер.}}
\author{\authors}


\def\oddhedr{\ifnum\thepage=\firstpage \firsthdr \else \odhdr \fi}
\def\firsthdr{\hspace{\fill} \sl \frsthdr \hspace{\fill}\hbox{}}
\def\odhdr{\hspace{\fill}\sl\rightmark \titles \hspace{\fill}
\rm \thepage}

\def\evnhedr{\ifnum\thepage=\firstpage \firsthdr \else \evhdr \fi}
\def\evhdr{\noindent \rm \thepage\hspace*{\fill} \sl\leftmark
\authors \hspace*{\fill}\hbox{}}

\def\ps@newpstyle{\def\@oddhead{
\hspace{-0.65em} \vbox{\oddhedr\vskip 1mm \hrule width
\textwidth}
}
%\def\@oddfoot{}
\def\@evenhead{
\hspace{-0.65em} \vbox{\evnhedr\vskip 1mm \hrule width
\textwidth}
}\textsc{}
\def\@oddfoot{\footline}
\def\@evenfoot{\@oddfoot}
}

% \def\thefootnote{}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}
\raggedbottom

\let\goth\mathfrak

\def\refer
{
%\section*{References}
\begin{small}
\begin{enumerate}
%\listparindent=-2em
%\itemindent=-1em
\leftmargin=0pt
\rightmargin=0pt
\itemsep=0pt
\parsep=0pt
}

\def\endref{\end{enumerate}\end{small} }


\newtheorem{theorem}{Теорема}[section]
\newtheorem{lemma}{Лемма}[section]
\newtheorem{proposition}{Предложение}[section]
\newtheorem{statement}{Утверждение}[section]
\newtheorem{corollary}{Следствие}[section]
\newtheorem{definition}{Определение}[section]

% \def\note#1{\marginpar{\textcolor{red}{#1}}}
\newcommand{\todoi}[1]{\todo[inline]{#1}}
\def\proof{{\noindent{\bf Доказательство.}} }
\def\A{{\mathfrak{A}}}
\def\K{{\mathcal{K}}}
\def\U{{\mathcal{U}}}
\def\P{{\mathcal{P}}}
\def\F{{\mathcal{F}}}
\def\S{{\mathcal{S}}}
\def\L{{\mathcal{L}}}
\def\C{{\mathcal{C}}}
\def\Z{{\mathbb{Z}}}
\def\N{{\mathbb{N}}}
\def\Q{{\mathbb{Q}}}
\def\Th{{\mathrm{Th}}}
\def\Tha{{\mathrm{Th}_\forall}}
\def\The{{\mathrm{Th}_\exist}}
\def\CG{{\mathrm{CGr}}}
\def\ui{{\mathrm{UI}}}
\def\JEP{{\textbf{JEP}}}
\def\Dis{{\mathrm{Dis}}}





\begin{document}

\maketitle

\tableofcontents
\listoftodos


\setcounter{page}{\firstpage}
\pagestyle{newpstyle}

\Russian
\sloppy
\rm


\section{Введение}

Проблема элементарной эквивалентности абелевых групп решена в статье В.Шмелевой \cite{Szm}. В этой работе доказан следующий результат: абелевы группы $A$ и $B$ элементарно эквивалентны тогда и только тогда, когда значения элементарных инвариантов группы $A$ совпадают со значениями элементарных инвариантов для группы $B$. Определение элементарных инвариантов дано в параграфе \ref{sec:UnivInvariants}.

Цель данной работы следующая. Мы заменяем элементарную теорию $\Th(A)$ для абелевой группы $A$ на универсальную теорию этой группы $\Tha(A)$ и вводим универсальный инвариант $\ui(A)$ для группы $A$ как последовательность 
$$\ui(A) = (\ui_0(A), \ui_2(A), \ui_3(A), \ui_5(A), \ldots, \ui_{p_n}(A), \ldots ),$$
где $\ui_{p_n}(A)$ -- вектор составленный из значений элементарных инвариантов (подробное определение в пункте \ref{sec:UnivInvariants}), а $p_n$ -- простое число, $n \geq 1$, и доказываем аналог теоремы Шмелевой об универсальной эквивалентности абелевых групп (теорема \ref{th:UnivEquivOfGroups}).

Далее, мы переходим к анализу произвольных универсальных классов абелевых групп, разделяя их на два множества: главные универсальные классы и неглавные. По предложению ... универсальный класс групп $\K$ полностью определяется множеством своих конечнопорожденных подгрупп $FG(\K)$ в $\K$. На множестве $FG(\K)$ естественным образом определяется частичный порядок по включению и класс $\K$ является главным, если и только если, этот частичный порядок является направленным. Мы определяем универсальные инварианты для главных классов и доказываем аналог теоремы Шмелевой для таких универсальных классов абелевых групп (теорема \ref{th:UnivClasses}).

Наконец, учитывая единственность разложения неглавного класса в объединение главных, вводятся универсальные инварианты для неглавных универсальных классов и для таких классов доказывается аналог теоремы Шмелевой (теорема \ref{th:UnivClasses}).

Кроме того, в параграфе \ref{sec:CannonicalGroups} мы вводим множество $\CG$ -- канонических абелевых групп, по одному представителю для каждого главного универсального класса (теорема \ref{th:CannonicalGroupsAll}). Неглавным классам ставится в однозначное соответствие подмножества из $\CG$


Используемые в статье факты об абелевых группах можно найти в монографиях \cite{Fuchs1, Fuchs2}, а сведения по теории моделей в книгах \cite{Ershov, Hodges, DM}.

\section{Предварительные сведения}

\subsection{Связь между универсальной эквивалентностью и дискриминируемостью}

В данном параграфе мы исследуем связи между двумя основными понятиями - это понятие конечной диаграммы для абелевой группы и понятие локальной дискриминируемости групп класса $\K_1$ группами класса $\K_2$.

Напомним определения из теории моделей. Пусть $L = \langle +, -, 0\rangle$ -- групповой язык, $X = \{x_1, \ldots, x_n, \ldots\}$ -- множество букв. Атомарной формулой называется равенство или неравенство термов от букв из множества $X$. Конечное множество атомарных формул $S$ будем называть конечной диаграммой. Будем говорить, что конечная диаграмма $S$ от букв $x_1, \ldots, x_n$ реализуется в модели $M$ языка $L$, если существуют такие элементы $m_1, \ldots, m_n$ в $M$, на которых выполняются все атомарные формулы из $S$. На языке формул это означает, что в модели $M$ выполнена экзистенциальная формула $\varphi_s = \exists x_1, \ldots, x_n \ \bigwedge\limits_{\varphi \in S} \varphi(x_1, \ldots, x_n)$. Отрицание $\neg\varphi_s$ формулы $\varphi_s$ является универсальной формулой. Если универсальная формула $\neg\varphi_s$ выполнена на модели $M$, то в ней нет набора из $n$ элементов, удовлетворяющих формуле $\varphi_s$. 
Другими словами, универсальная формула задает конечную диаграмму, которая не должна реализовываться в модели $M$, назовем такие конечные диаграммы запрещенными. Множество всех конечных диаграмм, которые реализуются в модели $M$ обозначим через $FD(M)$. А множество всех запрещенных конечных диаграмм обозначим через $Forb(M)$.

\begin{definition}
Будем говорить, что две группы $A$ и $B$ универсально эквивалентны (символически $A \equiv_\forall B$) если их универсальные теории совпадают. Под универсальной теорией группы $A$ мы понимаем множество всех универсальных формул группового языка истинных на группе $A$.
\end{definition}
Справедлива следующая лемма, доказательство которой следует из рассуждений выше.

\begin{lemma}\label{lemma:UnivEquivForb}
Пусть $A$ и $B$ -- две группы. Тогда следующие условия эквивалентны:
\begin{enumerate}
\item Группы $A$ и $B$ универсально эквивалентны;
\item $FD(A) = FD(B)$;
\item $Forb(A) = Forb(B)$.
\end{enumerate}
\end{lemma}

Для группы $G$ обозначим через $FS(G)$ множество классов изоморфизмов конечных подгрупп $G$.

\begin{lemma}\label{lemma:UnivEquivFS}
Две периодические абелевы группы $A$ и $B$ универсально эквивалентны, тогда и только тогда, когда $FS(A) = FS(B)$.
\end{lemma}
\proof Из определения конечной диаграммы следует, что если конечная диаграмма реализуется на группе $A$, то она реализуется на конечно порожденной подгруппе в $A$. Но так как группы $A$ и $B$ периодические и абелевы, то любая конечно порожденная подгруппа в них является конечной. Кроме того, каждую конечную подгруппу можно задать конечной диаграммой. Из этого непосредственно следует утверждение леммы. $\square$

\begin{corollary}\label{cor:ClassPerdiodicAbelinaGroup}
Универсальный класс периодических абелевых групп порождается подклассом своих конечных подгрупп.
\end{corollary}

Пусть $\K$ -- класс абелевых групп. Обозначим через $FD(\K)$ множество всех конечных диаграмм, которые реализуются в некоторой модели $M$ из класса $\K$. Произвольную экзистенциальную формулу $\varphi$ можно записать в следующем виде $\varphi = \exists x_1, \ldots, x_n \bigvee\limits_{i} S_i,$ где $S_i$ -- конечные диаграммы класса $\K$. Если формула $\varphi$ не выполнена на классе $\K$, то отрицание формулы $\varphi$ будет универсальная формула $\neg \varphi$ следующего вида: $\neg \varphi = \forall x_1, \ldots, x_n \bigwedge\limits_{i} \neg S_i$. Формула $\neg \varphi$ выполнена на классе $\K$ тогда и только тогда, когда не выполнены все конечные диаграммы $S_i$ на $\K$, такие конечные диаграммы мы будем называть \textit{запрещенными} диаграммами. Через $Forb(\K)$ обозначим множество всех запрещенных конечных диаграмм во всех моделях $M$ класса $\K$. Из предыдущих рассуждений выводится

\begin{corollary}
Множество формул $Forb(\K)$ есть множество аксиом для универсальной теории класса абелевых групп $\K$.
\end{corollary}


Сформулируем второе основное понятие этого параграфа -- понятие локальной дискриминируемости класса $\K_1$ классом $\K_2$.
\begin{definition}
Класс $\K_1$ локально дискриминируется классом $\K_2$, если для любой группы $A$ из $\K_1$ и любой конечной диаграммы $S \in FD(A)$ существует группа $B \in \K_2$ и гомоморфизм $\varphi: A \rightarrow B$ такие, что если конечная диаграмма $S$ реализуется на элементах $a_1, \ldots, a_n \in A$, то эта конечная диаграмма реализуется в группе $B$ на элементах $\varphi(a_1), \ldots, \varphi(a_n)$.
\end{definition}

Это понятие тесно связано с понятием универсальной эквивалентности двух групп. В этой связи, напомним один результат из статьи Э.Ю.~Данияровой, А.Г.~Мясникова и В.Н.~Ремесленникова \cite{DMR1}. Для удобства читателя, сформулируем нужные нам пункты данной теоремы в форме следующей леммы.

\begin{lemma}\label{lemma:UnivEquiv}
Пусть $A$ -- нетерова по уравнениям алгебра языка $L$. Тогда для конечно порожденной алгебры $B$ языка $L$ следующие условия эквивалентны:
\begin{enumerate}
\item $\mathrm{Th}_{\forall}(A) \subseteq \mathrm{Th}_{\forall}(B)$;
\item $B$ дискриминируется $A$;
\end{enumerate}
\end{lemma}

Понятие нетеровой алгебры вводится в той же статье трех авторов, и для группы $A$ звучит следующим образом. Группа $A$ нетерова по уравнениям тогда и только тогда, когда для любой бесконечной системы уравнений $S$ от конечного числа неизвестных, существует такая её конечная подсистема $S_0$, что множество решений системы $S$ совпадает с множеством решений системы $S_0$. В работе \cite{DMR2} доказано, что любая абелева группа является нетеровой группой по уравнениям.

Результаты этой леммы мы расширяем на классы абелевых групп.

\begin{lemma}\label{lemma:UnivEquivForClass}
Пусть $\K_1$ и $\K_2$ -- два класса абелевых групп. Тогда следующие утверждения эквивалентны:
\begin{enumerate}
\item $\Tha(\K_1) \subseteq \Tha(\K_2)$;
\item Класс $\K_2$ локально дискриминируется классом $\K_1$.
\end{enumerate}
\end{lemma}

\proof Покажем, что из п.2 следует п.1. Отметим, что в \cite{DMR2} показано, что класс абелевых групп и любой его подкласс нетеровы по уравнениям. Пусть $S$ -- конечная диаграмма и $\neg \varphi_s$ не принадлежит $\Tha(\K_2)$ и $A$ группа из $\K_2$. Тогда $\neg \varphi_s \notin \Tha(A')$, для некоторой конечно порожденной подгруппы $A'$ из $A$. Так как группа $A'$ дискриминируется классом $\K_1$, то для диаграммы $S$ существует в некоторой группе $B$ из класса $\K_1$ элементы на которых выполнена диаграмм $S$, а потому $\neg \varphi_s \notin \Tha(\K_1)$, и следовательно, $\Tha(\K_1) \subseteq \Tha(\K_2)$.

Обратно, пусть $\Tha(\K_1) \subseteq \Tha(\K_2)$, $B$ -- группа из класса $\K_2$ и $S \in FD(B)$ -- конечная диаграмма, которая реализуется на элементах $b_1, \ldots, b_n \in B$. Пусть $B_0$ подгруппа в группе $B$ порожденная элементами $b_1, \ldots, b_n$. Так как $B$ -- абелева группа, то подгруппу $B_0$ можно задать конечным числом соотношений, то есть группа $B_0$ имеет представление:
 $$B_0 = \langle b_1, \ldots, b_n | r_1(\overline{b}) = 0, \ldots, r_k(\overline{b}) = 0 \rangle.$$

Расширим конечную диаграмму $S$ до конечной диаграммы $S' = S \cup \{r_1(\overline{b}) = 0, \ldots, r_k(\overline{b}) = 0\}$. Ясно, что конечная диаграмма $S'$ так же реализуется в группе $B$. Построим по конечной диаграмме $S'$ универсальную формулу $\neg\varphi_{s'}$. Ясно, что эта формула $\neg\varphi_{s'} \notin \Tha(\K_2)$, следовательно $\neg\varphi_{s'} \notin \Tha(\K_1)$. Поэтому существует группа $A \in \K_1$ такая, что конечная диаграмма $S'$ реализуется на элементах $a_1, \ldots, a_n$ в группе $A$, и существует такой гомоморфизм $\varphi: B \rightarrow A$, что $\varphi(b_i) = a_i$, $i = 1, \ldots, n$. Следовательно, класс $\K_2$ локально дискриминируется классом $\K_1$. $\square$

Сформулируем хорошо известный результат

\begin{theorem}\label{th:AbelUnivEquiv}
Любые две абелевы группы без кручения универсально эквивалентны.
\end{theorem}

Для удобства читателя мы приведем доказательство этой теоремы, которое использует основные понятия и результаты выше. Так как конечно порожденные подгруппы абелевой группы без кручения $A$ есть группы типа $\Z^k$ то в силу леммы \ref{lemma:UnivEquivForClass} достаточно доказать следующий результат.

\begin{lemma}\label{lemma:UnivEquivZk}
Группа $\Z^k$ универсально эквивалентна группе $\Z$.
\end{lemma}

\proof По лемме \ref{lemma:UnivEquiv} для универсальной эквивалентности, достаточно показать, что группа $\Z^k$ дискриминируется группой $\Z$, и группа $\Z$ дискриминируется группой $\Z^k$. То, что группа $\Z$ дискриминируется группой $\Z^k$ очевидно, так как $\Z < \Z^k$. 

Покажем, что группа $\Z^k$ дискриминируется группой $\Z$. Для этого, по определению, нужно показать, что для любого количества нетривиальных элементов $h_1, \ldots, h_n \in \Z^k$ существует гомоморфизм $\varphi : \Z^k \rightarrow \Z$, такой, что образы этих элементов не равны 0. Интерпретируем $Z^n$ как целочисленную решетку ранга $n$. Тогда элементы $h_1, \ldots, h_n$ можно представить в виде:
$$\begin{array}{c}
 h_1 = (\alpha_{11}, \ldots, \alpha_{1k}), \\
 \ldots \\
 h_n = (\alpha_{n1}, \ldots, \alpha_{nk}),
 \end{array} $$
где $\alpha_{ij} \in \Z$. Рассмотрим множество гомоморфизмов, проиндексированных целочисленными векторами длины $k$, $\varphi_{m_1,\ldots,m_k} : \Z^k \rightarrow \Z$, действующих следующим образом:
$$\varphi_{m_1,\ldots,m_k} (\alpha_1, \ldots, \alpha_k) = m_1 \alpha_1 + m_2 \alpha_2 + \ldots + m_k \alpha_k.$$
Заметим, что если вектор $\overline{\alpha}$ задает элемент группы $\Z^k$, а вектор $\overline{m}$ задает индекс гомоморфизма, то $\varphi_{\overline{m}}(\overline{a})$ представляет скалярное произведение этих двух векторов $\overline{m} \cdot \overline{a}$. Для двух ненулевых векторов скалярное произведение не равно нулю тогда и только тогда, когда они не перпендикулярны. Рассмотрим вектор $\overline{h_1}$, в пространстве $\Z^k$ ему соответствует перпендикулярная ему гиперплоскость размерности $k-1$, аналогично и остальным векторам будут соответствовать гиперплоскости. Всего таких гиперплоскостей конечное число, а следовательно они не могут покрывать все пространство $\Z^k$, поэтому обязательно найдется вектор $\overline{m}$, который не принадлежит ни одной из этих гиперплоскостей, следовательно и гомоморфизм $\varphi_{\overline{m}}$, который будет переводит все элементы $h_1,\ldots, h_n$ в ненулевые. Следовательно, группа $\Z^k$ дискриминируется группой $\Z$. Таким образом, мы доказали, что $\Z^k \equiv_{\forall} \Z$. $\square$



\subsection{Несколько фактов об аксиоматизируемых классах}

Пусть $\L$ -- язык, $\K$ -- класс $\L$-систем. Класс $\K$ называется универсальным классом, если он аксиоматизируем и это можно сделать с помощью универсальных формул языка $\L$. Следующие факты хорошо известны в теории моделей.

\begin{proposition}\label{prop:AxiomClass}
Класс $\K$ аксиоматизируем тогда и только тогда, когда:
\begin{enumerate}
\item Если $\mathcal{M} \in \K$ и $\mathcal{M}$ элементарно эквивалентна $L$-системе $N$ (обозначение $M \equiv N$), тогда $\mathcal{N} \in \K$;
\item Пусть $\{\mathcal{M}_i \in \K,$ $i \in I\}$, $D$ -- ультрафильтр над множеством $I$ и пусть $\overline{\mathcal{M}}$ -- ультрапроизведение над $D$. Тогда $\overline{\mathcal{M}}$ также принадлежит классу $K$.
\end{enumerate}
\end{proposition}

\begin{proposition}\label{prop:AxiomClass2}
Класс $\K$ универсально аксиоматизируем тогда и только тогда, когда выполнены следующих два условия:
\begin{enumerate}
\item Класс $\K$ аксиоматизируем;
\item Класс $\K$ замкнут относительно операции взятия $\L$-подсистем.
\end{enumerate}
\end{proposition}



\subsection{Элементарные инварианты для абелевых групп}\label{sec:UnivInvariants}

Введем понятие элементарных инвариантов, следуя книге Ю.Л.~Ершова \cite{Ershov}. Обозначим через $P$ -- множество простых чисел.

Пусть $A$ -- абелева группа и пусть $p \in P$. Определим подгруппу $pA = \{ pa | a \in A\}$. Далее индукцей по $k$ определим серию подгрупп $p^k A$. Нетрудно заметить, что $p^{k+1} A \subseteq p^k A$, и $p^k A \Big/ p^{k+1} A$ есть группы периода $p$, и, следовательно, над ними определена структура векторного пространства над полем $F_p$ из $p$ элементов и определено понятие размерности над полем $F_p$.

Для абелевой группы $A$ введем первую серию инвариантов $\alpha_{p,k}(A)$, где $p$ -- простое число, а $k$ -- натуральное число, значение которых будут в расширенной аддитивной полугруппе $\N \cup \{\infty \} = \N^*$, в которой сложение в $\N$ дополнено следующими формулами: $n + \infty = \infty + n = \infty$, $\infty + \infty = \infty$.

Определим инвариант $\alpha_{p,k}(A)$ для группы $A$ таким образом:
$$\alpha_{p,k}(A) = \left\lbrace 
\begin{array}{l}  
\mathrm{dim} \left( p^{k-1}A \Big/ p^k A \right), \text{ если эта размерность конечна;} \\ 
\infty, \text{ в противном случае.}
\end{array} 
\right.$$

Введем вторую серию инвариантов $\beta_{p,k}(A)$. Ключевую роль здесь играет понятие $p$-слоя $A[p] = \{a \in A | \ pa = 0\}$. Другими словами, $p$-слой состоит из элементов порядка $p$ и нулевого элемента группы $A$. Как и выше, на $A[p]$ определяется структура векторного пространства над полем $F_p$ и понятие размерности $A[p]$ над $F_p$.

$$\beta_{p,k}(A) = \left\lbrace 
\begin{array}{l}  
\mathrm{dim} \left( (p^{k-1}A) [p] \Big/ (p^k A) [p] \right), \text{ если эта размерность конечна;} \\ 
\infty, \text{ в противном случае.}
\end{array} 
\right.$$

Введем третью серию инвариантов $\gamma_{p,k}(A)$

$$\gamma_{p,k}(A) = \left\lbrace 
\begin{array}{l}  
\mathrm{dim} \left( (p^{k-1} A) [p] \right), \text{ если эта размерность конечна;} \\ 
\infty, \text{ в противном случае.}
\end{array} 
\right.$$

Следующая лемма играет важную роль в доказательстве основных результатов статьи.

\begin{lemma}\label{lemma:gamma}
Пусть $A$ -- абелева группа, $\alpha_{p,k}, \beta_{p,k}, \gamma_{p,k}$ -- элементарные инварианты. Тогда:
\begin{enumerate}
\item Существует такая универсальная формула $\theta_{p,k,m}$ языка $L$, где $p$ -- простое, $k,m \in \N$, что 
$$A \models \theta_{p,k,m} \Leftrightarrow \gamma_{p,k}(A) \leq m;$$
\item Не существует универсальной формулы, которая для всех абелевых групп определяет значения инвариантов $\alpha_{p,k}(A)$ и $\beta_{p,k}(A)$;

\item Не существует универсальной формулы, которая для всех абелевых групп определяет неравенства вида $\alpha_{p,k}(A) \leq m$ и $\beta_{p,k}(A) \leq m$, где $m \in \N$.
\end{enumerate}
\end{lemma}
\proof Докажем первый пункт леммы. Пусть $A$ --- абелева группа, и элементарный инвариант $\gamma_{p,k}(A) = m \in \N$. Тогда, по определению, $m = \gamma_{p,k} (A) = \dim_{F_p} p^{k-1} A[p]$. Обозначим $V = p^{k-1} A[p]$ --- векторное пространство над полем из $p$ элементов. Нетрудно заметить, что условие $\dim V \leq m$ эквивалентно универсальной формуле: 
$$\forall v_1, \ldots, v_{m+1} \in V \ \bigvee_{\alpha_i \in F_p} \alpha_1v_1 + \ldots + \alpha_{m+1}v_{m+1} = 0.$$
Наконец, учитывая, что $V = p^{k-1}A[p]$, запишем формулу $\theta(p,k,m)$:

$$
\theta(p,k,m) = \forall g_1, \ldots, g_{m+1} \ (\bigwedge_i p^{k}g_{i} = 0) \rightarrow  \bigvee_{\alpha_i \in F_p} \alpha_1g_1 + \ldots + \alpha_{m+1}g_{m+1} = 0.
$$

Перейдем к доказательству второго и третьего пунктов леммы. В случае, если универсальные формулы из пунктов 2 и 3 существуют для  всех абелевых групп, то они будут задавать такие же значения инвариантов $\alpha_{p,k}$ и $\beta_{p,k}$ и на подгруппах. Нетрудно найти пример групп в которых есть подгруппы значения инвариантов $\alpha_{p,k}$ и $\beta_{p,k}$ отличаются от значений инвариантов для всей группы. $\square$

И, наконец, введем инвариант $\delta(A)$.
$$\delta(A) = \left\lbrace 
\begin{array}{l}  
0, \text{ если } \exists m \in \N \ ma = 0 \text{ для всех } a \in A; \\ 
1, \text{ в противном случае.}
\end{array} 
\right.$$


\subsection{Классы $\A_p$}

Пусть $\A$ -- класс абелевых групп в сигнатуре $\L = \{+, -, 0\}.$ Основной целью данной статьи является классификация всех универсальных классов из $\A$. Для этого мы начинаем с классификации подклассов $\A_p$, где $p \in \P \cup \{0\}$, а $\P$ -- множество простых чисел. Подклассы $\A_p$ вводятся следующим образом:
$$\begin{array}{c}
\A_0 = \{A |\text{ если } A \text{ -- группа без кручения, либо } A = \{0\} \}, \\
\A_p = \{A | \ T(A) = T_p(A) \neq 0 \}, \ p \neq 0. \\
\end{array}$$ 

\begin{proposition}
Для любого $p \in \P \cup \{0\}$ класс $\A_p$ является универсальным.
\end{proposition}
\proof
Для доказательства утверждения, приведем универсальные аксиомы (обозначим их через $Ax(\A_p)$) для класса $\A_p$. 
\begin{enumerate}
\item Аксиомы абелевых групп.
\item Для любого $q \in \P, \ q \neq p$, $\varphi_q : \forall x \ qx = 0 \rightarrow x = 0.$
\end{enumerate}

Известно, что периодическая часть абелевой группы представима в виде прямой суммы примарных компонент: $T(A) = T_{p_1}(A) \oplus \ldots \oplus T_{p_k}(A)$. Серия аксиом из пункта 2 определяет отсутствие в периодической части группы $A$ компонент с $q$-кручением, для всех $q$ отличных от $p$. Поскольку множество $Ax(\A_p)$ состоит из универсальных аксиом, то по \textit{предложению}~\ref{prop:AxiomClass2}, класс $\A_p$ является универсальным.
$\square$




\section{Главные универсальные классы}

В этом параграфе мы введем понятие главного универсального класса. Это понятие является очень важным для данной работы, так как все основные результаты статьи сформулированы для главных универсальных классов.

Пусть $\K$ -- некоторый универсальный класс абелевых групп. Напомним, что через $FG(\K)$ мы обозначаем множество всех конечно порожденных групп из класса $\K$, а через $FG$ -- класс всех конечно порожденных абелевых групп. Определим свойство $\JEP$ на классе $\K$ согласно книге Ходжеса \cite{Hodges}. Будем говорить, что класс $\K$ \textit{обладает свойством} $\JEP$ (Join Embeding Property), если для любых двух групп $A$ и $B$ из класса $\K$ существует такая группа $C \in \K$, что группы $A$ и $B$ вкладываются в группу $C$. На классе $\K$ выполнено свойство $\JEP$ тогда и только тогда, когда на нем можно определить двух местный оператор $\JEP : \K \times \K \rightarrow \K$ так, что $\JEP(A, B)$ -- это группа из $\K$ в которую вкладываются группы $A$ и $B$.

Далее мы введем понятие главного универсального класса тремя способами и докажем, что все эти три определения эквивалентны.

\begin{definition}\label{def:MainClass1}
Универсальный класс абелевых групп $\K$ называется главным, если он порождается одной группой. То есть существует такая группа $A$, что $\K = ucl(A)$.
\end{definition}


\begin{definition}\label{def:MainClass2}
Универсальный класс абелевых групп $\K$ называется главным, если множество конечно порожденных групп $FG(\K)$ из класса $\K$ обладает свойством $\JEP$.
\end{definition}

На конечно порожденных группах из $\K$ можно ввести частичный порядок: $A \preceq B$ тогда и только тогда, когда существует вложение $\alpha: A \rightarrow B$. Частично упорядоченное множество $(M, \preceq)$ называется \textit{направленным}, если для любых двух элементов $x, y \in M$ существует третий элемент $z \in M$ такой, что $x \preceq z$ и $y \preceq z$. 

\begin{definition}\label{def:MainClass3}
Универсальный класс абелевых групп $\K$ называется главным, если множество $FG(\K)$ является направленным частично упорядоченным множеством.
\end{definition}

\begin{proposition}
Определения \ref{def:MainClass1}, \ref{def:MainClass2} и \ref{def:MainClass3} главного универсального класса -- эквивалентны. 
\end{proposition}

\proof Докажем, что определения \ref{def:MainClass1} и \ref{def:MainClass2} эквивалентны. Если универсальный класс $\K$ порождается одной группой $G$, то очевидно, что на классе $\K$ выполнено свойство $\JEP$, так как для любых двух групп $A$ и $B$ из $\K$ можно определить оператор $\JEP(A, B) = G$. Обратное утверждение следует из теоремы 7.1.1. книги В.~Ходжеса~\cite{Hodges}.

Эквивалентность определений \ref{def:MainClass2} и \ref{def:MainClass3} следует из определений свойства $\JEP$ и направленного порядка. Следовательно, все три определения эквивалентны. $\square$


\begin{corollary}
Пусть $\K$ -- главный универсальный класс абелевых групп, и $C \in T(FG(\K))$. Тогда $C \in \K$ тогда и только тогда, когда $T_p(C) \in \K$ для всех простых $p$.
\end{corollary}

\begin{corollary}
Пусть $\K$ -- главный универсальный класс абелевых групп. Если группа $C \in FG(\K)$ и $\Z \in \K$, тогда группа $C \oplus \Z^k$, где $k \in \N$ принадлежит классу $\K$.
\end{corollary}

Приведем примеры нескольких универсальных классов, которые не являются главными.

\noindent \textbf{Пример 1.} Пусть класс $\K$ порождается двумя группами, $\K = ucl(C(p^2), C^2(p))$. В данном классе будут только группы $C(p)$, $C(p) \oplus C(p)$ и $C(p^2)$. Очевидно, что в этом классе не выполнено свойство $\JEP$.

\noindent \textbf{Пример 2.} Класс $\K = \{A_i | \ i \in I\}$ -- множество попарно не изоморфных абелевых групп, со свойством: $A_i$ не вкладывается в $A_j$ для всех $i \neq j$.

\noindent \textbf{Пример 3.} Пусть $p$ и $q$ -- простые числа, класс $\K = \A_p \cup \A_q$. Класс $\K$ является универсальным классом, так как аксиомами класса $\K$ будет множество универсальных формул $\Phi = \{\varphi_m | \ m \in \N\}$, где формулы $\varphi_m$ имеют вид:
\begin{itemize}
 \item Если $(p,m)=(q,m)=1$, то $\varphi_m : \forall x \ mx = 0 \rightarrow x = 0$;
 \item Если $m = p^\alpha q^\beta m_0$, где $(p,m_0)=(q,m_0)=1$, то $\varphi_m : \forall x \ mx = 0 \rightarrow (p^\alpha x = 0 \vee q^\beta x = 0)$.
\end{itemize} 
Легко заметить, что свойство $\JEP$ на классе $\K$ не выполнено.


Напомним, что через $FG$ мы обозначили множество всех конечно порожденных абелевых групп. Пусть $L$ некоторое подмножество в $FG$. Обозначим через $\Dis_{FG}(L)$ множество всех таких групп $A$, которые дискриминируются некоторой группой из множества $L$.

\begin{proposition}\label{prop:LisFGbyK}
Подмножество $L \subseteq FG$ является множеством всех конечно порожденных подгрупп некоторого универсального класса $\K$ (то есть $L = FG(\K)$) тогда и только тогда, когда 
$$\Dis_{FG}(L) = L.$$
\end{proposition}

\proof Пусть группа $G \in \Dis_{FG}(L)$. Если группа $G$ дискриминируется некоторой группой из $L$, тогда $G \in ucl(L)$. Следовательно, из равенства $\Dis_{FG}(L) = L$ следует, что $L = ucl(L)$, а значит $L$ -- является универсальным классом.

Обратно. Если $L = FG(\K)$, где $\K$ -- некоторый универсальный класс. Заметим, что $FG(\K) \equiv_{\forall} FG(\K)$, следовательно по лемме \ref{lemma:UnivEquivForClass} множество $L$ будет локально дискриминироваться самим собой, что и доказывает утверждение предложения. $\square$


Приведем пример класса $L$ для которого не выполнено условие предложения~\ref{prop:LisFGbyK}. Рассмотрим класс $L = \{C(p) | \ p \in \P\}$, тогда множество $\Dis_{FG}(L) = \{C(p) | \ p \in \P\} \cup \{\Z^k | \ k \in \N\}$, как видно, эти два множества не совпадают.


\begin{proposition}
Пусть класс $L \subseteq FG$ обладает свойством $\JEP$, тогда для класса $L$ выполнено следующие условие $\Dis_{FG}(L) = L.$
\end{proposition}

\todo{Вставить доказательство предложения.}

\begin{proposition}
Любой класс $\K$ можно представить как объединение максимальных главных классов.
\end{proposition}

\todo{Доказать предложение.}






\section{Универсальные инварианты для абелевых групп}

В данном параграфе мы определим для абелевой группы $A$ универсальный инвариант $\ui(A)$ с целью доказательства следующего результата: пусть $A$ и $B$ -- абелевы группы тогда $A$ и $B$ универсально эквивалентны тогда и только тогда, когда $\ui(A) = \ui(B)$.

Сначала определим \textit{примарный универсальный инвариант} $\ui_p(A)$ (где $p$ -- простое число или ноль) следующим образом: 
\begin{itemize}
\item Если $p$ -- простое число, то примарным универсальным инвариантом $\ui_p(A)$ для группы $A$ будет бесконечный вектор:
$$\ui_p(A) = (\delta(A), \gamma_{p,1}(A), \gamma_{p,2}(A), \gamma_{p,3}(A), \ldots),$$
где $\delta(A) \in \{0,1\}$ -- значение элементарного инварианта $\delta$ для группы $A$, а $\gamma_{p,k}(A)$ -- значение элементарного инварианта $\gamma_{p,k}$ для группы $A$.
\item Если $p = 0$, тогда примарный универсальный инвариант $\ui_0(A) = \delta(A)$.
\end{itemize}

Определим \textit{универсальный инвариант} $\ui(A)$ для абелевой группы $A$ как бесконечный вектор:
$$\ui(A) = (\ui_{0}(A), \ui_{2}(A), \ui_{3}(A),\ui_{5}(A),\ldots, \ui_{p_i}(A), \ldots), \ p_i \in \P,$$
где $\ui_{p_i}(A)$ -- примарные универсальные инварианты.


\begin{theorem}\label{th:UnivEquivOfGroups}
\begin{enumerate}
\item Пусть $A$ и $B$ -- группы из $\A_p$. Тогда $A$ и $B$ универсально эквивалентны тогда и только тогда, когда $\ui_p(A) = \ui_p(B)$.
\item Две абелевы группы $A$ и $B$ универсально эквивалентны тогда и только тогда, когда $\ui(A) = \ui(B)$.
\end{enumerate}
\end{theorem}


\proof Так как, по определению, значение инварианта $\ui(C)$ определяется значениями инвариантов $\ui_p(C)$, то теорему достаточно доказать только для групп из класса $\A_p$. Если $p=0$, то в этом случае доказательство непосредственно следует из теоремы \ref{th:AbelUnivEquiv} (где доказано, что две абелевы группы без кручения универсально эквивалентны) и определения универсальных инвариантов для групп $A$ и $B$.

Пусть $p \neq 0$, $A, B \in \A_p$ и $A \equiv_\forall B$. Если $A$ без кручения, то и $B$ без кручения, тогда $\ui(A) = \ui(B)$, и результат следует из теоремы \ref{th:AbelUnivEquiv}.

Пусть $T_p(A) \neq 0$ и $T_p(B) \neq 0$. Если $\Tha(T_p(A)) \neq \Tha(T_p(B))$, то $FS(T_p(A)) \neq FS(T_p(B))$ по лемме \ref{lemma:UnivEquivFS}. Пусть $C$ -- конечная $p$-группа такая, что $C \in FS(T_p(A))$ и $C \notin FS(T_p(B))$ и $\varphi_c$ -- экзистенциальная формула, построенная по группе $C$. Тогда в $A$ выполняется универсальная формула $\neg \varphi_c$, а в группе $B$ формула $\neg \varphi_c$ не выполняется, а поэтому $\Tha(A) \neq \Tha(B)$.

Далее, если $\Tha(T_p(A)) = \Tha(T_p(B))$, но $\Tha(A) \neq \Tha(B)$, то $\delta(A) = 0$ и $\delta(B) = 1$ или $\delta(A) = 1$ и $\delta(B) = 0$. В любом случае $\ui(A) \neq \ui(B)$. 

Наоборот, если $\Tha(A) = \Tha(B)$, то по лемме \ref{lemma:UnivEquivFS} $FS(A) = FS(B)$, и из определения $\ui_p(A)$ для $p$-групп следует, что $\ui_p(A) = \ui_p(B)$. Теорема доказана. $\square$

\begin{corollary}\label{cor:UnivEquivTpA_TpB}
Абелевы группы $A$ и $B$ универсально эквивалентны тогда и только тогда, когда $T_p(A) \equiv_\forall T_p(B)$ для всех $p \in \P$ и $\delta(A) = \delta(B).$
\end{corollary}







\section{Универсальные инварианты для универсальных классов абелевых групп}

Этот параграф посвящен классификации универсальных классов абелевых групп. Центральное место в описании этих классов занимает понятие универсального инварианта $\ui(\K)$ для класса абелевых групп $\K$. 

Для начала введем несколько обозначений, которые мы будем использовать. Пусть $\K$ -- произвольный универсальный класс абелевых групп, множество всех периодических подгрупп групп класса $\K$ обозначим через $T(\K) = \{ T(A) | \ A \in \K\},$ а множество всех периодических $p$-подгрупп групп класса $\K$ обозначим через $T_p(\K) = \{ T_p(A) | \ A \in \K\}.$

Описание универсальных классов в общем случае сводится к описанию универсальных классов внутри класса $\A_p$. Для этого, определим примарный универсальный инвариант $\ui_p(\K)$ для произвольного универсального класса $\K \in \A_p$ следующим образом:
$$\begin{array}{c}
\ui_p(\K) = (\delta(\K),  \max\limits_{A \in \K}(\gamma_{p,1}(A)), \max\limits_{A \in \K}(\gamma_{p,2}(A)), \ldots), \text{ если } p \neq 0; \\
\ui_0(\K) = \delta(\K); \\
\end{array}$$
где $p$ -- простое число, а $\delta(\K) = 0$, если существует такое число $m$, что для любой группы $A \in \K$ выполнено $\forall a \in A \ ma=0$, и $\delta(\K) = 1$ иначе.

Универсальным инвариантом $\ui(\K)$ для универсального класса $\K$ будем называть бесконечный вектор элементами которого являются все примарные универсальные инварианты $\ui_p(\K)$:
$$\ui(\K) = (\ui_0(\K), \ui_2(\K), \ui_3(\K), \ldots, \ui_{p_i}(\K), \ldots ),$$
где $p_i$ -- простые числа.

\begin{theorem}\label{th:UnivClasses}
Пусть $\K_1$ и $\K_2$ -- два универсально аксиоматизируемых класса абелевых групп. Тогда $\Tha(\K_1) = \Tha(\K_2)$ тогда и только тогда, когда $\ui(\K_1) = \ui(\K_2)$.
\end{theorem}
\proof Так как классы $\K_1$ и $\K_2$ нетеровы по уравнениям, то по лемме \ref{lemma:UnivEquivForClass} $\K_1 \equiv_\forall \K_2$ тогда и только тогда, когда класс $\K_1$ локально дискриминируется классом $\K_2$ и наоборот класс $\K_2$ локально дискриминируется классом $\K_1$. Отсюда следует, если $\K_1 \equiv_\forall \K_2$, то $FS(\K_1) = FS(\K_2)$, а потому все компоненты $\ui_p(\K_1)$ совпадают с соответствующими компонентами $\ui_p(\K_2)$, за исключением быть может первой компоненты. Пусть $\delta(\K_1) \neq \delta(\K_2)$, тогда один класс состоит из ограниченных в совокупности числом $m$ групп (это значит, что для любой группы $A \in \K_1$ имеет место тождество $\forall a \in A \ ma = 0$), а для второго класса $\K_2$ $\delta(\K_2) = 1$, что означает, что не существует такого числа $m$, что все группы из класса $\K_2$ ограниченны в совокупности. Другими словами в классе $\K_1$ выполнено тождество $\forall x \ mx = 0$, а во втором классе это тождество не выполнено, что противоречит условию, что $\K_1 \equiv_\forall \K_2$. Следовательно, $\ui(\K_1) = \ui(\K_2)$.

Наоборот, если $\ui(\K_1) = \ui(\K_2)$, то $FS(\K_1) = FS(\K_2)$. Если $\ui_0(\K_1) = \ui_0(\K_2) = 0$, то классы $\K_1$ и $\K_2$ локально дискриминируются друг другом, и следовательно, $\K_1 \equiv_\forall \K_2$. Если $\ui_0(\K_1) = \ui_0(\K_2) = 1$, то по лемме \ref{lemma:delta1UltraProduct} классы $\K_1$ и $\K_2$ содержат $\Z$, а следовательно по лемме \ref{lemma:UnivEquivZk} и $\Z^m$ для всех $m \in \N$. Поэтому классы $\K_1$ и $\K_2$ взаимно локально дискриминируют друг друга, и следовательно, по лемме \ref{lemma:UnivEquivForClass} $\K_1 \equiv_\forall \K_2$. Теорема доказана. $\square$

\begin{corollary}
Два универсально аксиоматизируемых класса абелевых групп $\K_1$ и $\K_2$ универсально эквивалентны тогда и только тогда, когда $T_p(\K_1) \equiv_\forall T_p(\K_2)$ для всех $p \in \P$ и $\delta(\K_1) = \delta(\K_2).$
\end{corollary}



\section{Канонические группы}\label{sec:CannonicalGroups}

Целью данного параграфа является построение по произвольному универсальному классу абелевых групп $\K$ единственной канонической группы $C(\K)$ с таким свойством, что две канонические группы $C(\K_1)$ и $C(\K_2)$ изоморфны тогда и только тогда, когда классы $\K_1$ и $\K_2$ совпадают.

Заметим, что пересечение универсальных классов $\K \cap \A_p = \K_p$ также является универсальным классом, и $ucl(\K) = ucl(\bigcup\limits_{p \in \P} \K_p)$. Мы стартуем с построения примарной канонической группы для универсального класса $\K_p$, а построение канонической группы для универсального класса $\K$ в общем случае будет проведено в конце данного параграфа.

Пусть задан допустимый примарный универсальный инвариант 
$$\ui_p = (\delta, \gamma_{p,1}, \gamma_{p,2}, \ldots).$$
Напомним, что инвариант называется допустимым, если $\delta \in \{0,1\}$, $\gamma_{p,k} \in \N \cup \{0, \infty\}$ и для любого $k$ выполнено $\gamma_{p,k} \geq \gamma_{p, k+1}$.

По допустимому примарному универсальному инварианту $\ui_p$ построим примарную каноническую группу $C$ из класса $\A_p$. Для этого, последовательность значений примарного инварианта $\gamma_{p,k}$ разделим на следующих три непересекающихся интервала (некоторые из интервалов могут быть пустыми). Это разделение будет определять три числа: $a$, $b \in \N \cup \{0\}$ и $l \in \N \cup \{0, \infty\}$. Введем эти параметры следующим определением:
\begin{enumerate}
\item Параметр $l \in \N \cup \{0, \infty\}$ определяем как $l = \lim\limits_{k \rightarrow \infty} \gamma_{p,k}$;
\item Если $l = \infty$, то $a = b = 0$;
\item Если $l \in \N \cup \{0\}$, то параметры $a$ и $b$ определяются следующим образом:
\begin{itemize}
\item параметр $b = \min\limits_{i} \{ i | \ \gamma_{p,i} = l\}$, в этом случае $\gamma_{p,k} = l$ для всех $k \geq b$;
\item параметр $a = \max\limits_{i} \{i | \ \gamma_{p,i} = \infty\}$, если $\{i | \ \gamma_{p,i} = \infty\} = \emptyset$, то $a = 0$.
\end{itemize}
\end{enumerate}

На рисунке \ref{pic:GammaPK} изображен график значений инвариантов $\gamma_{p,k}$ и обозначены значения параметров $a$, $b$ и $l$.

\begin{figure}[h!]
\centering
\begin{tikzpicture}
% horizontal axis
\draw[->] (0,0) -- (8,0) node[anchor=north] {$k$};
% labels X
\draw	(0,0) node[anchor=north] {0}
		(2,0) node[anchor=north] {$a$}
		(6,0) node[anchor=north] {$b$};
% labels Y
\draw	(-0.5,3) node{$\infty$};
\draw	(-0.5,1) node{$l$};

% vertical axis
\draw[->] (0,0) -- (0,4) node[anchor=east] {$\gamma_{p,k}$};
% nominal speed
\draw[dotted] (2,0) -- (2,3);
\draw[dotted] (6,0) -- (6,1);
\draw[dotted] (0,1) -- (8,1);

% Graph of gammas
\draw[thick,color=blue] (0,3) -- (2,3);
\draw[thick,color=blue] (2,2.5) -- (6,1);
\draw[thick,color=blue] (6,1) -- (8,1);
\end{tikzpicture}
\caption{График значений инвариантов $\gamma_{p,k}.$}\label{pic:GammaPK}
\end{figure}


Опираясь на значения этих трех параметров $a, b$ и $l$, построим примарную каноническую группу $C$ следующим образом:
$$C = C^{\aleph_0}(p^a) \oplus T \oplus C^l(p^\infty) \oplus B ,$$
где $\aleph_0$ -- первый счетны кардинал, группа $T = \bigoplus\limits_{ a < t \leq b} C^{w_t}(p^t)$, где $w_t = \gamma_{p,t} - \gamma_{p,t+1}$, и группа $B$ либо $\Z$, при $l = 0$ и $\delta = 1$, либо $B = 0$, в остальных случаях. Обратим внимание, что если $l = \infty$, то в этом случае примарная каноническая группа будет иметь вид $C = C^{\aleph_0}(p^\infty)$.

Отметим, что подгруппа $T_p(C) = C^{\aleph_0}(p^a) \oplus T \oplus C^l(p^\infty)$ будет периодической частью группы $C$, которая в свою очередь будет делится на редуцированную подгруппу $C^{\aleph_0}(p^a) \oplus T$ и делимую подгруппу $C^l(p^\infty)$ группы $T_p(C)$.

Множество всех примарных канонических групп, построенных по допустимым примарным инвариантам $\ui_p$, обозначим через $\CG_p$.

\begin{proposition}\label{prop:UnivEnvForCannonicalGroup}
Если примарная каноническая группа $C \in \CG_p$ построена по допустимому примарному универсальному инварианту $\ui_p$, то $\ui_p(C) = \ui_p$.
\end{proposition}
\proof Данное предложение следует непосредственно из определения универсальных инвариантов и структуры группы $C$. $\square$

\begin{theorem}\label{th:CannonicalGroupsP}
Для групп из класса $\CG_p$ верны следующие утверждения:
\begin{enumerate}
\item Если $C_1, C_2 \in \CG_p$ пара неизоморфных групп, то $\Tha(C_1) \neq \Tha(C_2)$;
\item Для любой группы $A$ из класса $\A_p$ существует такая единственная группа $C \in \CG_p$, что $\Tha(A) = \Tha(C)$;
\item Для любого универсального класса абелевых групп $\K$ из $\A_p$ существует такая единственная группа $C \in \CG_p$, что $\Tha(\K) = \Tha(C)$.
\end{enumerate}
\end{theorem}
\proof Из предложения \ref{prop:UnivEnvForCannonicalGroup} следует, что если две группы $C_1, C_2 \in \CG_p$ неизоморфны, то существует такое натуральное число $k$, что $\gamma_{p,k}(C_1) \neq \gamma_{p,k}(C_2)$. Значения этих универсальных инвариантов определяется универсальной формулой (по лемме \ref{lemma:gamma}). Отсюда и следует доказательство пункта 1 теоремы.

Для доказательства пункта 2 вычислим для группы $A$ примарный универсальный инвариант $\ui_p(A)$. По данному примарному инварианту построим каноническую группу $C$. По предложению \ref{prop:UnivEnvForCannonicalGroup} $\ui_p(C) = \ui_p(A)$. Следовательно, по теореме \ref{th:UnivEquivOfGroups}, группы $A$ и $C$ универсально эквивалентны.

Для доказательства пункта 3 вычислим для класса $\K$ универсальный инвариант $\ui_p(\K)$ и по нему построим примарную каноническую группу $C$. В зависимости от того какой вид имеет группа $C$ рассмотрим три случая, и в каждом из случаев покажем, что $Forb(\K) = Forb(C)$.
\begin{enumerate}
\item Параметр $l = \infty$. В данном случае, группа $C$ имеет вид $C = C^{\aleph_0} (p^\infty)$, и очевидно, что $Forb(\K) = Forb(C) = \emptyset$.
\item Параметр $l \notin \{0, \infty\}$. Тогда 
$$ C = C^{\aleph_0}(p^a) \oplus \bigoplus\limits_{ a < t \leq b} C^{w_t}(p^t) \oplus C^l(p^\infty).$$

Рассмотрим некоторую компоненту вектора $\ui_p(\K)$, пусть её значение равно $m$ ($m \neq \infty$). Данной компоненте соответствует ограничение на значение инварианта $\gamma_{p,k}(A) \leq m$ для всех групп $A \in \K$. Это означает, что в классе $\K$ нет группы $B$ для которой выполнено $\gamma_{p,k}(B) = m+1$, такой группой является группа $B = C^{m+1}(p^k)$. Другими словами группа $B$ описывает запрещенную конечную диаграмму $FD(B)$ для класса $\K$. Но $FD(B)$ также является запрещенной конечной диаграммой для группы $C$ (по построению), следовательно $Forb(\K) \subseteq Forb(C).$ Аналогично показывается обратное включение.

\item Параметр $l = 0$. Рассмотрим два подслучая, когда $\delta(\K) = 0$ и ${\delta(\K) = 1}$. Если $\delta(\K) = 0$, то этот случай рассматривается аналогично пункту~2. Если $\delta(\K) = 1$, то в этом случае примарная каноническая группа $C$ имеет вид:
$$ C = C^{\aleph_0}(p^a) \oplus \bigoplus\limits_{ a < t \leq b} C^{w_t}(p^t) \oplus \Z.$$

Заметим, что если $l = 0$, то $\delta(T(\K)) = 0$, и так как $\delta(\K) = 1$, то по лемме \ref{lemma:ClassKGeneratedByTK} класс $\K$ порождается $T(\K) \cup \Z$. Аналогично пункту~2 показывается, что $Forb(T(\K)) = Forb(T(C))$, а следовательно и $\Tha(T(\K)) = \Tha(T(C))$. Далее, из того что класс $\K$ порождается $T(\K) \cup \Z$ и группа $C$ имеет разложение $C = T(C) \oplus \Z$ мы получаем утверждение теоремы в данном случае, то есть $\Tha(\K) = \Tha(C)$.
\end{enumerate}

В последнем пункте мы напрямую доказали утверждение теоремы, а во всех остальных пунктах мы показали, что множества запрещенных конечных диаграмм совпадают. Следовательно, по лемме \ref{lemma:UnivEquivForb}, будут совпадать и универсальные теории. $\square$

Далее перейдем к рассмотрению общей ситуации для произвольного универсального класса абелевых групп $\K$.

Пусть задан допустимый универсальный инвариант:
$$\ui = (\ui_0, \ui_2, \ui_3, \ui_5, \ldots, \ui_p, \ldots).$$ 
По данному инварианту $\ui$ построим каноническую группу $C$ следующим образом. Для каждого примарного инварианта $\ui_p$, где $p$ -- простое число, обозначим через $\ui_{p,\infty}$ следующий предел $\ui_{p,\infty} = \lim\limits_{k \rightarrow \infty} \gamma_{p,k}$, а максимум $\max\limits_{p \in \P} \ui_{p, \infty}$ обозначим через $\ui_\infty$. Как и выше, по каждому примарному инварианту $\ui_p$ построим примарную каноническую группу $C_p$. Определим каноническую группу $C$ для инварианта $\ui$ как прямую сумму следующих групп:
$$C = \bigoplus\limits_{p \in \P} T_p(C_p) \oplus B,$$
где $T_p(C_p)$ -- периодическая часть примарной канонической группы $C_p$, а группа $B$ либо равна $\Z$ если $\delta = 1$ и $\ui_\infty = 0$, либо $B = 0$ в остальных случаях. Множество всех канонических групп, построенных по допустимым универсальным инвариантам $\ui$, обозначим через $\CG$.

\begin{proposition}\label{prop:UnivEnvForCannonicalGroup2}
Если каноническая группа $C \in \CG$ построена по допустимому универсальному инварианту $\ui$, то $\ui(C) = \ui$.
\end{proposition}
\proof Данное предложение следует непосредственно из определения универсальных инвариантов и структуры группы $C$. $\square$


\begin{theorem}\label{th:CannonicalGroupsAll}
Для групп из класса $\CG$ верны следующие утверждения:
\begin{enumerate}
\item Если $C_1, C_2 \in \CG$ пара неизоморфных групп, то $\Tha(C_1) \neq \Tha(C_2)$;
\item Для любой абелевой группы $A$ существует такая единственная группа $C \in \CG$, что $\Tha(A) = \Tha(C)$;
\item Для любого универсального класса абелевых групп $\K$ существует такая единственная группа $C \in \CG$, что $\Tha(\K) = \Tha(C).$
\end{enumerate}
\end{theorem}

\proof Из предложения \ref{prop:UnivEnvForCannonicalGroup2} следует, что если две группы $C_1, C_2 \in \CG$ неизоморфны, то существует такое простое число $p$ и натуральное число $k$, что $\gamma_{p,k}(C_1) \neq \gamma_{p,k}(C_2)$. Значения этих универсальных инвариантов определяется универсальной формулой (по лемме \ref{lemma:gamma}). Отсюда и следует доказательство пункта 1 теоремы.

Для доказательства пункта 2 вычислим для группы $A$ универсальный инвариант $\ui(A)$. По данному инварианту построим каноническую группу $C$. По предложению \ref{prop:UnivEnvForCannonicalGroup2} $\ui(C) = \ui(A)$. Следовательно, по теореме \ref{th:UnivEquivOfGroups}, группы $A$ и $C$ универсально эквивалентны.

Для доказательства пункта 3, как и раньше вычислим значение инварианта $\ui(\K)$ для класса $\K$. По данному значению инварианта построим каноническую группу $C$. По предложению \ref{prop:UnivEnvForCannonicalGroup2}, $\ui(C) = \ui(\K).$ Рассмотрим $ucl(C)$ -- универсальное замыкание группы $C$, другими словами это класс всех конечно порожденных подгрупп группы $C$. Очевидно, что $\ui(ucl(C)) = \ui(C)$. Следовательно, и $\ui(ucl(C)) = \ui(\K)$. Тогда по теореме \ref{th:UnivClasses} получаем, что $\Tha(ucl(C)) = \Tha(\K)$, следовательно и $\Tha(C) = \Tha(\K)$, что и требовалось доказать. $\square$






\section{Технические леммы}\label{sec:lemmas}

В данном параграфе мы докажем технические леммы, которые нам понадобятся для доказательства теорем. 

Первая лемма представляет из себя теорему 100.1 из книги \cite{Fuchs2}.

\begin{lemma}\label{lemma:Fuchs}
Периодическая группа $T$ обладает тем свойством, что всякая смешанная группа с периодической частью $T$ расщепляется, в том и только том случае, когда $T$ является прямой суммой делимой и ограниченной групп.
\end{lemma}

\begin{lemma}\label{lemma:UnivEquivATA}
Пусть $A$ -- абелева групп, тогда справедливо следующие равенство:
$$\Tha(A) = \Tha(T(A) \oplus A \big/ T(A)).$$
\end{lemma}

\proof Нетрудно проверить, что для групп $A$ и $T(A) \oplus A \big/ T(A)$ значения инвариантов $\delta$ и $\gamma_{p,k}$ совпадают. Следовательно совпадают и значения универсальных инвариантов $\ui(A) = \ui(T(A) \oplus A \big/ T(A))$. По теореме \ref{th:UnivEquivOfGroups} эти группы универсально эквивалентны. $\square$

\begin{lemma}\label{lemma:delta1UltraProduct}
\begin{enumerate}
\item Пусть $\K$ -- произвольное множество конечных групп, $\K = \{A_i | \ i \in I\}$, и $\delta(\K) = 1$. Тогда существует подмножество $I_1 \subseteq I$ и $D$ -- неглавный ультрафильтр над $I_1$, такие, что ультрапроизведение $U$
$$U = \prod_{i \in I_1} A_i \Big/ D$$
содержит группу $\Z$ в качестве подгруппы.

\item Пусть $\K$ -- произвольное множество конечных $p$-групп и $\delta(\K) = 1$. Если $\ui_{p,\infty}(\K) = n$, тогда существует подмножество $I_1 \subseteq I$ и $D$ -- неглавный ультрафильтр над $I_1$, такие, что ультрапроизведение $U$ содержит прямую сумму $n$ копий квазициклической $p$-группы $C(p^\infty)$, но не содержит прямую сумму $n+1$ копий квазициклической $p$-группы; 
\end{enumerate}
\end{lemma}

\proof Покажем, что существует бесконечная цепочка групп $A_{i_1}, A_{i_2}, \ldots \in \K$ такая, что для любого натурального числа $k$ группа $A_{i_k}$ содержит группу $C(p^k)$. \todo{Проверить доказательство, так как теперь $\K$ произвольный класс} Условие $\delta(\K) = 1$ означает, что для любого натурального числа $m$ существует группа $A$ в классе $\K$ такая, что в ней есть элемент $a$ такой, что $ma \neq 0$. Далее, строим нашу цепочку по индукции. Предположим, что мы выбрали $k-1$ группу $A_{i_1}, \ldots, A_{i_{k-1}}$. Выбираем максимальный порядок элементов всех этих групп, обозначим его $l$, заметим, что $l > k$. На $k$-ом шаге выбираем в классе $\K$ такую группу $A_{i_k}$ в которой есть элемент $a$ такой, что $p^{l} a \neq 0$. Группа $A_{i_k}$ не может совпадать с ранее выбранными группами так как содержит в себе элемент порядка больше чем $p^l$, и, следовательно, $C(p^{l+1})$ подгруппа в $A_{i_k}$. Из неравенства $k < l+1$, имеем, что $C(p^k)$ подгруппа в $A_{i_k}$.

В качестве множества $I_1$ возьмем множество индексов выбранной цепочки групп $\{i_1, i_2, \ldots\}$.

Выберем в каждой группе $A_{i_k}$ элемент $a_{i_k}$ который порождает циклическую подгруппу $C(p^k) = \langle a_{i_k}\rangle$.

Для доказательства пункта 1, рассмотрим элемент $a = (a_{i_1}, a_{i_2}, \ldots) \in U$. Элемент $a$ имеет бесконечный порядок в группе $U$, следовательно он порождает подгруппу изоморфную группе $\Z$ в $U$. 

Для доказательства пункта 2, выберем следующую серию элементов:
$$\begin{array}{l}
b_1 = (a_{i_1}, p a_{i_2}, p^2 a_{i_3}, p^3 a_{i_4}, \ldots), \\
b_2 = (a_{i_1}, a_{i_2}, p a_{i_3}, p^2 a_{i_4}, \ldots), \\
b_3 = (a_{i_1}, a_{i_2}, a_{i_3}, p a_{i_4}, \ldots), \\
\ldots
\end{array}$$

Нетрудно проверить, что элементы $b_1, b_2, \ldots$ удовлетворяют следующим соотношениям в группе $U$: $pb_1 = 1$, $pb_2 = b_1$, $pb_3 = b_2, \ldots$. Следовательно эти элементы порождают подгруппу изоморфную $C(p^\infty)$. 

Условие $\ui_{p,\infty}(\K) = n$ означает, что для любого $k \in \N$ существует такая группа $A \in \K$, что значение инварианта $\gamma_{p,k}(A) \geq n$. Это означает, что можно построить цепочку групп $A_{i_1}, A_{i_2}, \ldots \in \K$ как и раньше, с условием, что для любого натурального числа $k$ группа $A_{i_k}$ содержит группу $C^n(p^k)$. Таким образом, построенное ультрапроизведение $U$ будет содержать $C^n(p^\infty)$. Если группа $U$ содержит $C^{n+1}(p^\infty)$, тогда по предложению \ref{prop:AxiomClass} и предложению \ref{prop:AxiomClass2} группа $C^{n+1}(p^\infty)$ принадлежит классу $\K$. Но тогда $\ui_{p,\infty}(\K) = n+1$, полученное противоречие доказывает пункт 2 теоремы. $\square$


\begin{corollary}\label{cor:ContainsZ}
Пусть $\K$ -- универсальный класс абелевых групп, тогда $\K$ содержит группу $\Z$ тогда и только тогда, когда $\delta(\K)=1$.
\end{corollary}
\todoi{Проверить доказательство} \proof Очевидно, что если $\Z \in \K$, тогда $\delta(\K) = 1$.

Пусть $\delta(\K) = 1$. По лемме \ref{lemma:delta1UltraProduct}, существует такое ультрапроизведение $U$ групп из класса $\K$, что группа $U$ содержит группу $\Z$. По предложению \ref{prop:AxiomClass} группа $U$ принадлежит классу $\K$, следовательно, по предложению \ref{prop:AxiomClass2} группа $\Z \in \K$. $\square$


Напомним, что множество всех периодических подгрупп групп класса $\K$ мы обозначили через $T(\K) = \{ T(A) | \ A \in \K\}.$

\begin{lemma}\label{lemma:ClassKGeneratedByTK}
Пусть $\K$ -- произвольный универсальный класс абелевых групп.
\begin{enumerate}
\item Если $\delta(\K) = 1$ и $\delta(T(\K)) = 0$, то класс $\K$ порождается $T(\K) \cup \{\Z\};$
\item В остальных случаях, класс $\K$ порождается классом $T(\K)$. 
\end{enumerate}
\end{lemma}

% cor:ClassPerdiodicAbelinaGroup
\proof Если $\delta(\K) = 1$ и $\delta(T(\K)) = 0$, то ясно, что универсальный класс $\K$ не порождается $T(\K)$. Пусть $A$ группа из универсального класса $\K$. Тогда по лемме \ref{lemma:Fuchs}, группа $A$ разлагается в прямую сумму двух групп $A = T(A) \oplus A_0$, где $A_0$ -- группа без кручения. Отсюда следует, что класс $\K$ порождается классом $T(\K) \cup \{\Z\}.$

Если $\delta(T(\K)) = 1$, тогда и $\delta(\K) = 1$. По следствию \ref{cor:ContainsZ}, универсальное замыкание $T(\K)$ содержит $\Z$, и следовательно, по теореме \ref{th:AbelUnivEquiv}, все абелевы группы без кручения. Пусть $A \in \K$ и $A \big/ T(A) = B$, где группа $B$ без кручения. Тогда по лемме \ref{lemma:UnivEquivATA} $ucl(A) = ucl(T(A), B).$ Но так как класс $ucl(T(\K))$ содержит все абелевы группы без кручения, следовательно, $ucl(A) = ucl(T(A))$. Отсюда и следует утверждение леммы. $\square$


Пусть задан допустимый универсальный инвариант 
$$\ui_p = (\delta, \gamma_{p,1}, \gamma_{p,2}, \ldots).$$ 
Напомним, некоторые обозначения $\ui_{p,\infty} = \lim\limits_{k \rightarrow \infty} \gamma_{p,k}$, где $\ui_{p,\infty} \in \N \cup \{0, \infty\}$, и $b = \min\limits_{i}\{i | \ \gamma_{p,i} = \ui_{p, \infty}\}$, где $b \in \N \cup \{0\}$. По данному инварианту $\ui_p$ определим множество универсальных формул $\Phi_p(\ui_p)$ следующим образом:
\begin{enumerate}
\item Если $\ui_{p,\infty} = \infty$, то $\Phi_p(\ui_p) = \emptyset.$
\item Если $\ui_{p, \infty} \in \N$, то $\Phi_p(\ui_p) = \{\theta_{p,k,m} | \text{ где } m = \gamma_{p,k}, k \in \N\}.$
\item Если $\ui_{p, \infty} = 0$ и $\delta = 0$, то $\Phi_p(\ui_p) = \{\theta_{p,k,m} | \text{ где } m = \gamma_{p,k}, k = 1,\ldots,b\} \cup \{\forall x \ p^b x = 0\}.$
\item Если $\ui_{p, \infty} = 0$ и $\delta = 1$, то $\Phi_p(\ui_p) = \{\theta_{p,k,m} | \text{ где } m = \gamma_{p,k}, k = 1, \ldots, b\}.$
\end{enumerate}


\begin{theorem}
Пусть $\K$ -- класс абелевых групп из $\A_p$, и $ucl(\K)$ -- универсальное замыкание $\K$. Класс $ucl(\K)$ аксиоматизируется следующим набором формул:
\begin{enumerate}
\item Аксиомы абелевых групп.
\item Аксиомы класса $\A_p$: $\{ \forall x \ qx = 0 \rightarrow x = 0 | \ (p,q) = 1 \}$.
\item Множество универсальных формул $\Phi_p(\ui_p(\K))$.
\end{enumerate}
\end{theorem}

\todoi{Проверить доказательство}
\proof По теореме \ref{th:CannonicalGroupsP} существует группа $C \in \CG_p$ такая, что $\ui_p(C) = \ui_p(\K)$ и $\Tha(C) = \Tha(\K)$. Рассмотрим четыре случая в зависимости от структуры группы $C$.
\begin{enumerate}
\item Если $\ui_{p,\infty}(\K) = \infty$, то группа $C$ имеет вид $C = C^{\aleph_0}(p^\infty)$. В данном случае класс $\K$ совпадает со всем классом $\A_p$, следовательно, условие теоремы выполнено.

\item Если $\ui_{p, \infty}(\K) \in \N$, то по лемме \ref{lemma:ClassKGeneratedByTK} в данном случае класс $\K$ порождается классом $T(\K)$. Покажем, что аксиомами класса $\K$ будут универсальные формулы $\Phi_p(\ui_p(\K)) = \{\theta_{p,k,m} | \text{ где } m = \gamma_{p,k}, k \in \N\}$, которые задают значение универсального инварианта $\ui_p(\K).$ Все формулы из $\Phi_p(\ui_p(\K))$ выполнены на всех группах класса $\K$ по построению инварианта $\ui_p(\K)$. Пусть на группе $A$ из класса $\A_p$ выполнены все формулы $\Phi_p(\ui_p(\K))$, покажем, что $A \in \K$. По теореме \ref{th:CannonicalGroupsP} существует группа $C_A \in \CG_p$ такая, что $\Tha(C_A) = \Tha(A)$, и следовательно, по теореме \ref{th:UnivEquivOfGroups} $\ui_p(C_A) = \ui_p(A).$ Так как на $C_A$ выполнены все формулы $\Phi_p(\ui_p(\K))$, то следовательно, значения инвариантов $\ui_p$ на группе $C_A$ не больше значений инвариантов на группе $C$ по компонентно. Не трудно показать, что тогда группа $C_A$ будет подгруппой группы $C$. Следовательно группа $A$ будет принадлежать классу $\K$.

\item Если $\ui_{p, \infty}(\K) = 0$ и $\delta(\K) = 0$. В данном случае, аналогично пункту 2, аксиомами будет множество $\Phi_p(\ui_p) = \{\theta_{p,k,m} | \text{ где } m = \gamma_{p,k}, k = 1,\ldots,b\}$, но так как класс $\K$ ограниченный, то к множеству аксиом нужно будет добавить универсальную формулу $\varphi: \forall x \ p^b x = 0$. Очевидно, что формулы из данного множества выполняются на всех группах класса $\K$. Пусть группа $A \in A_p$ такая, что на ней выполнены все формулы указанного множества, тогда из того, что выполнена формула $\varphi$ на группе $A$ следует, что $A$ не содержит бесконечной циклической, то есть $A$ можно представить в виде суммы конечных циклических групп. Далее, аналогично пункту 2, можно показать, что $A \in \K$.

\item Если $\ui_{p, \infty}(\K) = 0$ и $\delta(\K) = 1$. Заметим, что условие $\ui_{p, \infty}(\K) = 0$ эквивалентно условию $\delta(T(\K)) = 0$, следовательно, по лемме \ref{lemma:ClassKGeneratedByTK} в данном случае класс $\K$ порождается $T(\K) \cup \Z$. Группа $C$ имеет вид $C = T(C) \oplus \Z$. Очевидно, что заданное множество формул выполнено для всех групп из $\K$. Пусть группа $A \in \A_p$, на которой выполнены все формулы из $\Phi_p(\ui_p(\K)) = \{\theta_{p,k,m} | \text{ где } m = \gamma_{p,k}, k = 1, \ldots, b\}.$ Следовательно, $\delta(T(A)) = 0$. Тогда по лемме \ref{lemma:Fuchs}, группа $A$ разлагается в прямую сумму двух групп $A = T(A) \oplus A_0$, где $A_0$ -- группа без кручения. Как и в пункте 2, можно показать, что группа $T(A)$ будет подгруппой в группе $T(C)$. Далее в силу леммы \ref{th:AbelUnivEquiv} следует, что $A \in ucl(\K)$.
\end{enumerate} 
$\square$



\begin{thebibliography}{}

\bibitem{Szm} Szmielew W., \textit{Elementary properties of Abelian groups.} — Fundamenta Mathematica. —
1955. — v. 41. — p. 203–271.

\bibitem{Fuchs1} Фукс Л. \textit{Бесконечные абелевы группы}. Том 1. М.: Мир, 1974. - 336 с.

\bibitem{Fuchs2} Фукс Л. \textit{Бесконечные абелевы группы}. Том 2. М.: Мир, 1977. - 415 с.

\bibitem{Ershov} Ершов Ю.Л. \textit{Проблемы разрешимости и конструктивные модели.} --- М.: Наука, 1980.

\bibitem{Hodges} Hodges, W., \textit{Model Theory}, --- Cambridge University Press, 1993. 

\bibitem{DM} D.Marker, \textit{Model Theory: An Introduction}, // Springer, Series: Graduate Texts in Mathematics, Vol. 217, 2002, 342 p.

\bibitem{DMR1} E. Daniyarova, A. Miasnikov, V. Remeslennikov, \textit{Unification theorems in algebraic geometry}, // Algebra and Discrete Mathematics, 1 (2008), 80--111, arXiv: 0808.2522.

\bibitem{DMR2} A. Myasnikov, V. Remeslennikov, \textit{Algebraic geometry over groups II: Logical foundations}, // J. of Algebra, 234 (2000), 225--276

\end{thebibliography}


\end{document}


